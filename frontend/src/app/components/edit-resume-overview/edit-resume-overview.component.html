<div *ngIf="resumeData" class="space-y-2">
  <div class="flex gap-2 items-center">
    <label class="block font-medium mb-1 w-50">Name</label>
    <input class="w-full border rounded px-3 py-2" [(ngModel)]="resumeData.personalInfo.name" name="name" />
  </div>
  <div class="flex gap-2 items-center">
    <label class="block font-medium mb-1 w-50">Summary</label>
    <input class="w-full border rounded px-3 py-2" [(ngModel)]="resumeData.personalInfo.summary" name="summary" />
  </div>
  <div class="flex gap-2 items-center">
    <label class="block font-medium mb-1 w-50">Location</label>
    <input class="w-full border rounded px-3 py-2" [(ngModel)]="resumeData.personalInfo.location" name="location" />
  </div>
  <div class="flex gap-2 items-center">
    <label class="block font-medium mb-1 w-50">Phone Number</label>
    <input class="w-full border rounded px-3 py-2" [(ngModel)]="resumeData.personalInfo.phoneNumber" name="phoneNumber" />
  </div>
  <div class="flex gap-2 items-center">
    <label class="block font-medium mb-1 w-50">Email Address</label>
    <input class="w-full border rounded px-3 py-2" [(ngModel)]="resumeData.personalInfo.emailAddress" name="emailAddress" />
  </div>
  <div class="flex gap-2 items-center">
    <label class="block font-medium mb-1 w-50">LinkedIn Url</label>
    <input class="w-full border rounded px-3 py-2" [(ngModel)]="resumeData.personalInfo.linkedinLink" name="linkedinLink" />
  </div>
  <div class="block font-medium mb-1 w-50">Resume Sections</div>
  <div *ngIf="resumeData.resumeSections" dndDropzone (dndDrop)="onDrop($event)">
    <div *ngFor="let section of resumeData.resumeSections; let i = index"
      class="flex gap-2 items-center my-2"
      [dndDraggable]="i"
      (dndStart)="onDragStart(i)"
      (dndEnd)="onDragEnd()"
      [style.display]="draggingIndex === i ? 'none' : ''">
      <div class="cursor-pointer" dndHandle><mat-icon>drag_handle</mat-icon></div>
      <div class="w-full pb-2 cursor-pointer" dndHandle>{{ section.title }}</div>
      <button class="cursor-pointer" (click)="onEditSection(i)">
        <mat-icon>edit_note</mat-icon>
      </button>
      <button class="cursor-pointer" (click)="delete(i)">
        <mat-icon>delete_forever</mat-icon>
      </button>
    </div>
    <div class="w-full rounded bg-gray-200 h-10 my-2" dndPlaceholderRef></div>
  </div>
  <button *ngIf="!isAddingSection" class="cursor-pointer w-full rounded bg-gray-300 text-gray-700 h-10 my-2 flex items-center justify-center" (click)="add()">
    <mat-icon>add</mat-icon>
  </button>
  <div *ngIf="isAddingSection">
    <div class="flex gap-2 items-center">
      <label class="block font-medium mb-1 w-50">Title</label>
      <input class="w-full border rounded px-3 py-2" [(ngModel)]="newSectionTitle" name="newSectionTitle" />
    </div>
    <div class="flex gap-4 items-center my-2">
      <label class="block font-medium">Section Type:</label>
      <mat-radio-group [(ngModel)]="newSectionType" name="sectionType">
        <mat-radio-button value="bullet">Bullet</mat-radio-button>
        <mat-radio-button value="experience">Experience</mat-radio-button>
      </mat-radio-group>
    </div>
    <button class="cursor-pointer rounded-md px-5 py-2 font-medium border border-black shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-300 disabled:text-gray-500" [disabled]="!newSectionTitle" (click)="confirmAddSection()">
      Add
    </button>
    <button class="cursor-pointer rounded-md px-5 py-2 font-medium border border-black shadow" (click)="cancelAddSection()">
      Cancel
    </button>
  </div>
</div>